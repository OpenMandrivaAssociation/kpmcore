From 3d57b3211a571a27a8fab7cc7bdc7c1a392bc531 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andrius=20=C5=A0tikonas?= <andrius@stikonas.eu>
Date: Tue, 24 May 2016 01:37:15 +0100
Subject: [PATCH 0/9] Convert remaining signals to the new syntax.

---
 src/core/devicescanner.cpp       | 2 +-
 src/core/operationrunner.cpp     | 4 ++--
 src/jobs/resizefilesystemjob.cpp | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/src/core/devicescanner.cpp b/src/core/devicescanner.cpp
index c1bca71..e319aad 100644
--- a/src/core/devicescanner.cpp
+++ b/src/core/devicescanner.cpp
@@ -36,7 +36,7 @@ DeviceScanner::DeviceScanner(QObject* parent, OperationStack& ostack) :
 
 void DeviceScanner::setupConnections()
 {
-    connect(CoreBackendManager::self()->backend(), SIGNAL(scanProgress(QString, int)), SIGNAL(progress(QString, int)));
+    connect(CoreBackendManager::self()->backend(), &CoreBackend::scanProgress, this, &DeviceScanner::progress);
 }
 
 void DeviceScanner::clear()
diff --git a/src/core/operationrunner.cpp b/src/core/operationrunner.cpp
index d38d95c..25a729a 100644
--- a/src/core/operationrunner.cpp
+++ b/src/core/operationrunner.cpp
@@ -60,12 +60,12 @@ void OperationRunner::run()
 
         emit opStarted(i + 1, op);
 
-        connect(op, SIGNAL(progress(int)), this, SIGNAL(progressSub(int)));
+        connect(op, &Operation::progress, this, &OperationRunner::progressSub);
 
         status = op->execute(report());
         op->preview();
 
-        disconnect(op, SIGNAL(progress(int)), this, SIGNAL(progressSub(int)));
+        disconnect(op, &Operation::progress, this, &OperationRunner::progressSub);
 
         emit opFinished(i + 1, op);
 
diff --git a/src/jobs/resizefilesystemjob.cpp b/src/jobs/resizefilesystemjob.cpp
index 4d1c7bf..8cd4403 100644
--- a/src/jobs/resizefilesystemjob.cpp
+++ b/src/jobs/resizefilesystemjob.cpp
@@ -115,9 +115,9 @@ bool ResizeFileSystemJob::resizeFileSystemBackend(Report& report)
         CoreBackendPartitionTable* backendPartitionTable = backendDevice->openPartitionTable();
 
         if (backendPartitionTable) {
-            connect(CoreBackendManager::self()->backend(), SIGNAL(progress(int)), this, SIGNAL(progress(int)));
+            connect(CoreBackendManager::self()->backend(), &CoreBackend::progress, this, &ResizeFileSystemJob::progress);
             rval = backendPartitionTable->resizeFileSystem(report, partition(), newLength());
-            disconnect(CoreBackendManager::self()->backend(), SIGNAL(progress(int)), this, SIGNAL(progress(int)));
+            disconnect(CoreBackendManager::self()->backend(), &CoreBackend::progress, this, &ResizeFileSystemJob::progress);
 
             if (rval) {
                 report.line() << i18nc("@info/plain", "Successfully resized file system using internal backend functions.");
-- 
2.8.3

